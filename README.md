# â˜•ï¸ taskmind-ä¸€å¥è¯å°±èƒ½æŒ‡æŒ¥å®ƒå®šæ—¶å®Œæˆè‡ªåŠ¨åŒ–ç½‘é¡µæ“ä½œ

âŒ¨ï¸ä¸€å¥è¯ğŸŒç½‘ç«™ğŸ¤–è‡ªåŠ¨åŒ–ğŸ‘€ç›‘æ§ğŸš¨é€šçŸ¥
**åƒå¤§è„‘ä¸€æ ·å®Œæˆä½ çš„ä»»åŠ¡ï¼Œä½ å¯ä»¥æŠŠå®ƒå½“åšä½ çš„ç§äººåŠ©ç†ï¼ŒæŒ‡æŒ¥å®ƒä»€ä¹ˆæ—¶å€™å»æ‰§è¡Œä»»åŠ¡ï¼Œå¹¶åœ¨å®Œæˆåæé†’ä½ **

## åŠŸèƒ½ç‰¹æ€§

- ç½‘ç«™å†…å®¹ç›‘æ§å·¥å…·ï¼Œæ”¯æŒç›‘æ§å¤šä¸ªç½‘ç«™çš„å†…å®¹æ›´æ–°ï¼ˆwebMonitorï¼‰
- çµæ´»çš„å†…å®¹è§£ææœºåˆ¶ï¼ˆCSSé€‰æ‹©å™¨ã€XPathã€AIåˆ†æç­‰ï¼‰
- æ”¯æŒå¤šç§é€šçŸ¥æ–¹å¼ï¼ˆé‚®ä»¶ã€Slackã€ä¼ä¸šå¾®ä¿¡ï¼‰
- æ”¯æŒè‡ªå®šä¹‰å†…å®¹è¿‡æ»¤è§„åˆ™
- AIè¾…åŠ©å†…å®¹åˆ†æï¼ˆåŸºäºSpring AIï¼‰

## æ•ˆæœæ¼”ç¤º

<img width="200" height="300" alt="Image" content="èŠå¤©" src="https://github.com/user-attachments/assets/baf92a41-5fae-4058-a64e-97e47f8e673e" />
<img width="200" height="300" alt="Image" content="ä»»åŠ¡ç®¡ç†" src="https://github.com/user-attachments/assets/23f66d7c-8a5b-47c6-8fef-758ddca233c4" />
<img width="200" height="300" alt="Image" content="ä»»åŠ¡ç»“æœ" src="https://github.com/user-attachments/assets/817e300e-5215-4934-adee-03f9fdac98a9" />
<img width="200" height="300" alt="Image" content="ç¾å›¢å¾®åš" src="https://github.com/user-attachments/assets/7e1f19ab-0ae5-47d3-93b8-5b904a8c825b" />

https://github.com/user-attachments/assets/858f8425-8fb2-4c8f-9999-755523f6ae67

## æŠ€æœ¯æ ˆ

- Java 17
- Spring Boot 3.xï¼šåº”ç”¨æ¡†æ¶
- JSoupï¼šHTMLè§£æ
- Spring AIï¼šAIé›†æˆ
- 

## æ¶æ„è®¾è®¡

æœ¬é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š

1. **å†…å®¹è·å–å™¨ (ContentFetcher)**
   - è´Ÿè´£ä»ç½‘ç«™è·å–å†…å®¹
   - æ”¯æŒå¤šç§è·å–æ–¹å¼ï¼šCSSé€‰æ‹©å™¨ã€XPathã€AIåˆ†æç­‰

2. **è§‚å¯Ÿè€… (WebObserver)**
   - è´Ÿè´£å¤„ç†è·å–åˆ°çš„å†…å®¹
   - æ”¯æŒå¤šç§é€šçŸ¥æ–¹å¼ï¼šé‚®ä»¶ã€Slackã€ä¼ä¸šå¾®ä¿¡ç­‰

3. **ç›‘æ§å™¨ (WebMonitor)**
   - æ ¸å¿ƒè°ƒåº¦ç»„ä»¶ï¼Œè´Ÿè´£åè°ƒå†…å®¹è·å–å’Œé€šçŸ¥å‘é€

4. **å·¥å‚æ¨¡å¼ (WebMonitorFactory)**
   - è´Ÿè´£åˆ›å»ºä¸åŒçš„å†…å®¹è·å–å™¨å’Œè§‚å¯Ÿè€…å®ä¾‹

5. **é…ç½®ç®¡ç† (WebMonitorProperties)**
   - è´Ÿè´£åŠ è½½å’Œç®¡ç†é…ç½®ä¿¡æ¯

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- JDK 17 æˆ–æ›´é«˜ç‰ˆæœ¬
- Maven 3.x

### å®‰è£…æ­¥éª¤

1. å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°ï¼š

```bash
git clone https://github.com/yourusername/web-monitor.git
cd web-monitor
```

2. ä½¿ç”¨Mavenç¼–è¯‘é¡¹ç›®ï¼š

```bash
mvn clean package
```

### åŸºæœ¬é…ç½®

åœ¨ `src/main/resources/application.yml` ä¸­é…ç½®ç›‘æ§ç›®æ ‡ï¼š

```yaml
web-monitor:
  configs:
    # AIå†…å®¹åˆ†æç¤ºä¾‹
    - type: AIFetcher
      name: AIMonitor
      url: https://www.baidu.com
      intervalSeconds: 600
      enabled: true
      userQuery: è·å–ç¬¬ä¸€ä¸ªçƒ­æœçš„æ ‡é¢˜
      
    # CSSé€‰æ‹©å™¨ç¤ºä¾‹
    - type: CssSelectorFetcher
      name: CSSMonitor
      url: https://news.ycombinator.com/
      intervalSeconds: 300
      enabled: true
      cssSelectors:
        "titles": "a.storylink"
        
    # XPathé€‰æ‹©å™¨ç¤ºä¾‹
    - type: XPathFetcher
      name: XPathMonitor
      url: https://github.com/trending
      intervalSeconds: 600
      enabled: true
      xPath: "//article//h2/a"
      
  observers:
    # é‚®ä»¶é€šçŸ¥ç¤ºä¾‹
    - type: email
      host: smtp.example.com
      port: 587
      username: your-email@example.com
      password: your-password
      enabled: true
      
    # æ§åˆ¶å°è¾“å‡ºç¤ºä¾‹
    - type: ConsoleObserver
      enabled: true
```

### ä½¿ç”¨ç¤ºä¾‹

```java
// é€šè¿‡Spring Bootå¯åŠ¨åº”ç”¨
@SpringBootApplication
public class WebMonitorApplication {
    public static void main(String[] args) {
        SpringApplication.run(WebMonitorApplication.class, args);
    }
}

// åº”ç”¨å¯åŠ¨åå°†è‡ªåŠ¨åŠ è½½é…ç½®å¹¶å¼€å§‹ç›‘æ§ï¼ŒåŒæ—¶æ‰“å¼€å›¾å½¢åŒ–æ—¥å¿—ç•Œé¢
```

## é…ç½®è¯´æ˜

### ç›‘æ§ç›®æ ‡é…ç½®

æ”¯æŒå¤šç§ç±»å‹çš„å†…å®¹è·å–å™¨ï¼š

1. **AIFetcher** - AIå†…å®¹åˆ†æ
   - `url`: è¦ç›‘æ§çš„ç½‘é¡µURL
   - `intervalSeconds`: ç›‘æ§é—´éš”ï¼ˆç§’ï¼‰
   - `userQuery`: ç”¨æˆ·æŸ¥è¯¢è¯­å¥ï¼ŒæŒ‡å¯¼AIå¦‚ä½•åˆ†æå†…å®¹
   - `model`: AIæ¨¡å‹ç±»å‹ï¼ˆå¯é€‰ï¼‰

2. **CssSelectorFetcher** - CSSé€‰æ‹©å™¨
   - `url`: è¦ç›‘æ§çš„ç½‘é¡µURL
   - `intervalSeconds`: ç›‘æ§é—´éš”ï¼ˆç§’ï¼‰
   - `cssSelectors`: CSSé€‰æ‹©å™¨æ˜ å°„

3. **XPathFetcher** - XPathé€‰æ‹©å™¨
   - `url`: è¦ç›‘æ§çš„ç½‘é¡µURL
   - `intervalSeconds`: ç›‘æ§é—´éš”ï¼ˆç§’ï¼‰
   - `xPath`: XPathè¡¨è¾¾å¼

4. **SimpleFetcher** - ç®€å•æ–‡æœ¬åŒ¹é…
   - `url`: è¦ç›‘æ§çš„ç½‘é¡µURL
   - `intervalSeconds`: ç›‘æ§é—´éš”ï¼ˆç§’ï¼‰
   - `content`: è¦åŒ¹é…çš„æ–‡æœ¬å†…å®¹

### è§‚å¯Ÿè€…é…ç½®

æ”¯æŒå¤šç§é€šçŸ¥æ–¹å¼ï¼š

- **é‚®ä»¶é€šçŸ¥**
  æ³¨æ„ï¼šQQé‚®ç®±çš„passwordä¸æ˜¯QQå¯†ç ï¼Œè€Œæ˜¯æˆæƒç 
  è·å–æˆæƒç æ­¥éª¤ï¼š
    1. ç™»å½•QQé‚®ç®±ç½‘é¡µç‰ˆ
    2. ç‚¹å‡»"è®¾ç½®" -> "è´¦æˆ·"
    3. æ‰¾åˆ°"POP3/IMAP/SMTP/Exchange/CardDAV/CalDAVæœåŠ¡"
    4. å¼€å¯"POP3/SMTPæœåŠ¡"
    5. ç‚¹å‡»"ç”Ÿæˆæˆæƒç "

- **Slacké€šçŸ¥**
  Slack Webhooké…ç½®è¯´æ˜ï¼š
    1. è®¿é—® https://api.slack.com/apps
    2. ç‚¹å‡»"Create New App"
    3. é€‰æ‹©"From scratch"
    4. è¾“å…¥åº”ç”¨åç§°å’Œå·¥ä½œåŒº
    5. åœ¨"Features"ä¸­é€‰æ‹©"Incoming Webhooks"
    6. æ¿€æ´»Incoming Webhooks
    7. ç‚¹å‡»"Add New Webhook to Workspace"
    8. é€‰æ‹©è¦å‘é€æ¶ˆæ¯çš„é¢‘é“
    9. å¤åˆ¶Webhook URL

- **ä¼ä¸šå¾®ä¿¡é€šçŸ¥**

- **æ§åˆ¶å°è¾“å‡º**

- **æ•°æ®åº“å­˜å‚¨**

- **å…¶å®ƒè‡ªå®šä¹‰é€šçŸ¥**


## é«˜çº§åŠŸèƒ½

### è‡ªå®šä¹‰å†…å®¹è§£æ

å¯ä»¥é€šè¿‡å®ç° [ContentFetcher](src/main/java/com/webmonitor/core/ContentFetcher.java) æ¥å£æ¥è‡ªå®šä¹‰å†…å®¹è§£æé€»è¾‘ï¼š

```java
public class CustomFetcher implements ContentFetcher {
    @Override
    public List<WebContent> fetch() {
        // è‡ªå®šä¹‰è§£æé€»è¾‘
    }
}
```

åŒæ—¶éœ€è¦åˆ›å»ºå¯¹åº”çš„é…ç½®ç±»ç»§æ‰¿ [FetcherConfig](src/main/java/com/webmonitor/config/fetcher/FetcherConfig.java)ï¼š

```java
public class CustomFetcherConfig extends FetcherConfig {
    // æ·»åŠ è‡ªå®šä¹‰é…ç½®å±æ€§
}
```

æœ€ååœ¨ [WebMonitorFactory](src/main/java/com/webmonitor/config/WebMonitorFactory.java) ä¸­æ³¨å†Œæ–°çš„è·å–å™¨ç±»å‹ã€‚

### è‡ªå®šä¹‰é€šçŸ¥

å¯ä»¥é€šè¿‡å®ç° [WebObserver](src/main/java/com/webmonitor/service/observer/WebObserver.java) æ¥å£æ¥è‡ªå®šä¹‰é€šçŸ¥æ–¹å¼ï¼š

```java
public class CustomObserver implements WebObserver {
    @Override
    public void send(List<WebContent> contents) {
        // è‡ªå®šä¹‰é€šçŸ¥é€»è¾‘
    }
}
```

åŒæ—¶éœ€è¦åˆ›å»ºå¯¹åº”çš„é…ç½®ç±»ç»§æ‰¿ [ObserverConfig](src/main/java/com/webmonitor/config/observer/ObserverConfig.java)ï¼š

```java
public class CustomObserverConfig extends ObserverConfig {
    // æ·»åŠ è‡ªå®šä¹‰é…ç½®å±æ€§
}
```

æœ€ååœ¨ [WebMonitorFactory](src/main/java/com/webmonitor/config/WebMonitorFactory.java) ä¸­æ³¨å†Œæ–°çš„è§‚å¯Ÿè€…ç±»å‹ã€‚

## å¸¸è§é—®é¢˜

1. **xxxxï¼Ÿ**
    - xxxx

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issue æˆ– Pull Requestã€‚
